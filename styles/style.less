/*!
    Theme Name: The Film House
    Author: Merlin Mason
    Version: 1.0
    License: The MIT License (MIT)
*/


//----------------------------------------------------------------------------//
//  Setup
//----------------------------------------------------------------------------//


@charset "UTF-8";
// Framework
@import "reset.less";
@import "vars.less";
@import "helpers.less";
@import "grid.less";
// Third Party
@import "superslides.less";
@import "entypo.less";

::-moz-selection {
    background:@color-highlight;
    color:#fff;
    text-shadow:none;
}
::selection {
    background:@color-highlight;
    color:#fff;
    text-shadow:none;
}

a:link { -webkit-tap-highlight-color:transparent; }


//----------------------------------------------------------------------------//
//  Typography
//----------------------------------------------------------------------------//


body {
    font-family:@font-family-base;
    font-size:@font-size-base;
    line-height:@line-height-base;
    color:@color-text;
    background:@black-90;
}

p { margin-bottom:@space; }

h1, h2, h3, h4, h5, h6 {
    font-weight:normal;
}


//----------------------------------------------------------------------------//
//  Links
//----------------------------------------------------------------------------//


a:link,
a:visited {
    color:@color-link;
    text-decoration:none;
}
a:hover,
a:focus,
a:active {
    color:@color-link-hover;
    text-decoration:none;
    outline:none;
}


//----------------------------------------------------------------------------//
//  Forms & Buttons
//----------------------------------------------------------------------------//


input[type='text'],
input[type='email'],
input[type='password'],
textarea {
    padding:(@space/2);
    border:none;
    .placeholder();
}

input[type='text']:hover,
input[type='email']:hover,
input[type='password']:hover,
textarea:hover {

}

input[type='text']:focus,
input[type='email']:focus,
input[type='password']:focus,
textarea:focus {
    outline:none;
}

input[type="submit"],
button,
.btn {
    display:inline-block;
    margin:0 (@space/2) (@space/2) 0;
    padding:(@space/2);
    appearance:none;
    background:transparent;
    border:1px solid @black-20;
    color:@black-20;
    transition: all 0.2s;
    &.selected,
    &:hover,
    &:focus {
        background:#fff;
        color:#333;
        outline:none;
    }
    @media (max-width:@break-small) {
        padding:4px;
        font-size:10px;
        margin:0 4px 4px 0;
    }
}

.play-video {
    cursor:pointer;
    .center-block();
    .square(70px);
    background-repeat:no-repeat;
    background-position:center center;
    position:relative;
    .retina-image("img/icon-play.png", "img/icon-play@2x.png", 70px, 70px);
    &:after {
        content:"";
        .position(absolute);
        background-repeat:no-repeat;
        background-position:center center;
        .retina-image("img/icon-play-hover.png", "img/icon-play-hover@2x.png", 70px, 70px);
        opacity:0;
        transition:opacity 0.2s;
    }
    &:hover:after { opacity:1; }
}


//----------------------------------------------------------------------------//
//  Header
//----------------------------------------------------------------------------//


.page-header {
    position:fixed;
    z-index:4;
    top:0;
    width:250px;
    left:50%;
    margin-left:-125px;
    .menu {
        text-align:center;
        opacity:0;
        transition:all 0.2s 0 ease-in-out;
        transform:translate3d(0,0,0);
        li {
            display:inline-block;
        }
        a:link,
        a:visited {
            .caps();
            font-size:10px;
            padding:0 6px;
            color:#fff;
            position:relative;
        }
        a:hover,
        a:focus {
            color:#fff;
        }
        a:after {
            content:"â€¢";
            .position(absolute, auto, -4px, auto, auto);
        }
        li:last-child a:after {
            content:"";
        }
        .current-menu-item a:before {
            content:"";
            .position(absolute, auto, auto, -10px, 50%);
            display:block;
            width:24px;
            margin-left:-12px;
            border-top:1px solid #fff;
        }
    }
    .sitename {
        padding:(@space*1.5) 0;
        width:160px;
        .center-block();
        a {
            display:block;
            .size(160px, 61px);
            .ir();
            .retina-image("img/logo.png", "img/logo@2x.png", 160px, 61px);
            background-repeat:no-repeat;
        }
        @media (max-width:@break-small) {
            padding:12px 0;
            width:130px;
            a {
                .size(130px, 61px);
                background-size:130px auto;
            }
        }
    }
    &.is-active,
    .error404 & {
        background-position:0 -266px;
        .menu {
            opacity:1;
            transition:all 0.2s 0.2s ease-in;
        }
    }
    @media (max-width:@break-small) {
        background:none;
        .menu { display:none; }
    }
    .touch & {
        background:none;
        .menu { display:none; }
    }
}

.header-grad {
    .position(fixed, -250px, 0, auto, 0);
    height:500px;
    background:transparent;
    background-image: radial-gradient(ellipse at 50% 20%, rgba(0,0,0,.75) 30%, rgba(0,0,0,0) 70%);
    z-index:4;
    display:none;
    pointer-events:none;
    .force-hardware-acceleration();
    @media (max-width:@break-medium) {
        .position(fixed, -150px, 0, auto, 0);
        height:300px;
    }
}

.touch-menu {
    li {
        list-style:none;
        display:inline-block;
        margin:@space (@space/2);
        .caps();
    }
}


//----------------------------------------------------------------------------//
//  Content
//----------------------------------------------------------------------------//

.social {
    list-style:none;
    li {
        display:inline-block;
        margin:0 (@space/2) @space;
        a {
            color:#fff;
            background:transparent;
            transition:all 0.2s;
            font-size:20px;
            display:inline-block;
            .square(40px);
            line-height:40px;
            border:1px solid #fff;
            &:hover {
                color:#000;
                background:#fff;
                border-color:#fff;
            }
        }
    }
}

.fourohfour {
    text-align:center;
    padding-top:200px;
    padding-top:40vh;
    h1 { font-size:60px; }
}

.library {
    margin:170px 0 (@space*2);
    @media (max-width:@break-small) {
        margin-top:100px;
    }
    .isotope-content { margin:0 -@space; }
    .post {
        padding:@space;
        position:relative;
        width:50%;
        @media (max-width:@break-small) {
            width:100%; // force one col for small screens
        }
        .img {
            background-position:center center;
            background-size:cover;
            margin-bottom:(@space/2);
            &:before {
                content:"";
                display:block;
                padding-top:56.25%; // creates 16:9 aspect ratio
            }
        }
        .play-video {
            text-align:center;
            position:absolute;
            z-index:1;
            top:50%;
            left:0;
            right:0;
            margin-top:-50px;
        }
    }
}


//----------------------------------------------------------------------------//
//  Required styles for Isotope
//----------------------------------------------------------------------------//


.isotope-item { z-index: 2; }
.isotope-hidden.isotope-item {
    pointer-events: none;
    z-index: 1;
}
.isotope,
.isotope .isotope-item { transition-duration: 0.8s; }
.isotope { transition-property: height, width; }
.isotope .isotope-item { transition-property: transform, opacity; }

//----------------------------------------------------------------------------//
//  Modals
//----------------------------------------------------------------------------//

.modal {
    position:absolute;
    top:0;
    right:0;
    left:0;
    bottom:0;
    z-index:3;
    background:@black-90;
    background:rgba(0,0,0,0.9);
    display:none;
    &.video {
        z-index:10;
        padding:(@space*3) (@space*6);
        padding:10vh;
        @media (max-width:@break-small) {
            padding:(@space/2);
            padding:20vh 0;
        }
    }
    &.touch {
        z-index:10;
        padding:@space (@space*2) 100px;
        text-align:center;
        overflow-y:scroll;
        -webkit-overflow-scrolling:touch;
        h3 {
            .caps();
            margin-bottom:4px;
            &:after {
                margin-top:4px;
                content:"|";
                color:@black-30;
                display: block;
                font-weight:100;
            }
        }
    }
}

.close-modal {
    display:block;
    padding:@space;
    margin:0;
    .position(fixed, auto, 0, 0, 0);
    z-index:11;

    .caps();
    text-align:center;
    color:@color-link;

    -webkit-appearance:none;
    border:none;
    background:#000;
    transition:color 0.2s;
    cursor:pointer;
    .show-touch { font-size:16px; }
    &:focus { outline:none; }
    &:hover {
        color:@color-link-hover;
        background:none;
    }
}

.spinner {
    &:extend(.modal);
    display:block;
    background:@black-90;
    z-index:5;
}
